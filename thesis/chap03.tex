\chapter{Processamento de Modelos Baseado em Pontos}
\label{chapter:3}
\section{Estrutura de Multiresolução}
Esquemas de partição do espaço são comuns(?) em computação gráfica, em
particular quando se deseja processar geometria adquirida é essêncial:
simplificação, reconstrução, compressão, visibilidade, e muita outras
operações são beseadas em nesse tipo de estrutura. Sua simplicidade a tornou
muito popular: o espaço inicial, frequentimente uma caixa envolvente do modelo,
é recursivamente subdividida até que uma celula satisfaça um dado critério. As
estutras de partição de espaço mais populares são, \textit{octree} e 
\textit{kD-Trees} (um caso especial de  \textit{BSP-Tree}). Primeiramente,
\textit{octree} será discutida na sessão \ref{section:Octree}, que é obtida
particionando recursivamente a caixa envolvente do modelo em oito octantes.
Na proxima sessão \ref{section:KDtree} apresentaremos \textit{K-d Tree} que
também particona o espaço, mas dividindo o modelo em cada nó de acordo com uma
dimensão. \textit{K-d Tree} será usada como estrutura eficente de busca dos $k$
vizinhos de um dado ponto no modelo. Finalmente, hieraruia de
esferas envolventes será discutida (\ref{section:BVH}).

\subsection{Octrees}
\label{section:Octree}
Octree é uma das estruturas de partição espacial mais usadas para tratar grandes
modelos de pontos em especial, quando se quer renderizá-los de forma interativa [cites].
 A estrutura é usada para particionar a caixa envolvente $3D$ que
engloba todas as amostras no espaço. Cada célula  que contenha amostras é
recursivamente subdivida em oito octantes.A recursão termina quando em uma
célula há um valor mínimo de amostras que passa a ser um contêiner de amostras
desta célula (seriam as folhas de uma estrutura em árvore).

Octree sobre um conjuntos $P$ de  $n$ pontos $p_{1 \ldots n}$ é construída de
forma eficiente com complexidade de $O(n\log{n})$

\subsection{kd-Tree}
\label{section:KDtree}
Uma \textit{kd-tree} é em geral , um árvore multidimensional de busca em $k$
dimensões. Para dados em $3D$, a árvore correspondente é geralmente chamada de \textit{kd-tree}
tridimensional ao invés de \textit{$3d$-tree}. Elas são um caso especial de
arvores partição binária espacial \abbrev{PBE}{\textit{partição
binária espacial}} . \textit{Kd-tree} usa planos de cortes que são perpendicular
a um dos eixos coordenados ( também chamado hiperplanos), que é uma
especialização de uma $PBE$, em que planos de cortes arbitrários podem ser
usados. Um conjunto de pontos em uma \textit{kd-tree} é subdividido em caixas
alinhas aos eixos e que não se interceptam. O algoritmo de construção é
descrito como o exemplificado:

Na raiz, o conjunto de pontos é dividido em dos subconjuntos com o mesmo
tamanho por um hiperplano perpendicular ao eixo dos $x$. Os filhos da raiz
(profundidade $1$), a partição é baseada na coordenada $y$ e o nó de
profundidade $2$, no próximo level, na coordenada $z$. Então o algoritmo começa
ordenando o conjunto de pontos na coordenada $x$. A recursão para quando um
determinada quantidade de pontos em um nó é alcançada (no caso um ponto, veja
\ref{fig:Kdtree}), o qual é armazenados nas folhas.

\begin{figure}[ht]
\centering
\includegraphics[width=10.0cm]{img/cap02/Kd-tree} 
\caption{Kd-Tree}
\label{fig:Kdtree}
\end{figure}

\subsection{Hierarquia de Volumes Envolventes}
\label{section:BVH}
Hierarquia de Volumes Envolventes (BVH) tem sido usado para renderização desde
Clark and Rubin and Whitted [cite], uso-as como suporte para consultas como \textit{visibilty culling} 
e intersecção de raio-objeto. Enquanto método de partição de dados para
indexação no espaço, como \textit{Octrees} e \textit{Kd-Trees} descritas
anteriormente, BVH não precisam ser uma partição do espaço. Sendo assim, BVH
remove qualquer restrição em relação a partição do espaço e permite a
construção de uma hierarquia espacial mais genérica. De fato, ela permite
qualquer hierarquia que agrupe os elementos, sem entretanto provê uma seleção
espacial que é de fundamental importância para qualquer esquema de indexação
espacial. O único requisito em uma BVH é que cada nó o volume envolvente (i.e.,
uma caixa ou esfera) engloba todos os elementos da sua subárvore. Obviamente
que uma estrutura de partição espacial pode ser estendida para uma BVH, gerando
o volume envolvente atribuído a cada nó como mostrado anteriormente.


%\section{Clusterização}
%Métodos de clusterização tem sido usados em computação gráfica para reduzir a
%complexidade de modelos 3D. Por Exemplo Rossignac and Borrel em seu trabalho
%pioneiro \cite{Rossignac1992}, usaram clusterização de vértices para obter
%uma multi-resolução aproximada de modelos poligonais complexos para torna 
%renderização mais eficiente\cite{Rossignac1992}. As abordagens de construção 
%de clusters são categorizadas em incremental (\textit{bottom-up}) e o
%hierárquico (\textit{top-down}). O modo incremental os clusters são criado
%juntando-se uma ou mais amostras em um cluster apropriado. Enquanto o modo
%hierárquico incia com um cluster de todas as amostras e recursivamente
%separa-os em clusters menores apropriados.
%Os dois grandes desafios da clusterização são estabelecer a medida de
%similaridade (caso incremental) ou dissimilaridade (caso hierarquico)
%empregada e definir o número final de clusters.
%Abaixo serão aprenstados métodos de clusterização que foram usados tanto em
%simplificação como para multi-resolução em modelos baseados em pontos.
%A estratégia usada por Rossignac and Borrel
%\cite{Rossignac1992} foi envolver o modelo em uma grade regular (veja
%\ref{2:gradeRegular}) e sub-dividi-lá. A resolução da grade regular
%determinava a qualidade da simplificação. Essa abordagem volumétrica possui
%uma desvantagem. Usando-se uma grade com células de tamanho fixo, esse método
%não se adapta bem a modelos que não apresentam um distribuição espacial
%uniforme. Para evitar essa (  ), um clusterização baseada na superfície pode
%se usada onde os clusters são construídos pela seleção de amostras na sua
%vizinhança. Estas técnicas serão apresentadas a seguir.
%\subsection{Clusterização Hierárquica}
%Para construir um multiresolução de modelos baseados em pontos, muitos autores
%[vários] tem adotado alguma estratégia de partição do espaço com o intuito de 
%visualização de modelos complexos eficientemente. Nesta seção discutiremos as
%estrutura de partição espacial Octree, BSP Tree e Hierarquia de Esferas
%Envolventes.
%Para mais detalhes de
%comparação ver \cite{Samet2005}

